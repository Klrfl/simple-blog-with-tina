---
import type { CollectionKey } from "astro:content";
import { getContent } from "./contentParser.astro";

export const getTags = async (collection: CollectionKey) => {
	const allPosts = await getContent(collection);

  const tags = allPosts.map((post) => {
		return post.data.tags && post.data.tags.map((tag: string) => tags.push(tag.toLowerCase()));
	});

	const allTags = [...new Set(tags)];
	return allTags;
};
---
