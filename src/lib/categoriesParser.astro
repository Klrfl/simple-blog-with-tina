---
import type { CollectionKey } from "astro:content";
import { getContent } from "./contentParser.astro";

export const getCategories = async (collection: CollectionKey) => {
	const allPosts = await getContent(collection);

	const categories = allPosts
		.filter(({ data }) => data.categories !== undefined)
		.flatMap(({ data }) => data.categories);

	const uniqueCategories = [...new Set(categories)];
	return uniqueCategories;
};
---
